{"version":3,"sources":["../src/target.js"],"names":["type","el","Source","initialProps","style","width","height","document","body","clientHeight","documentElement","position","left","top","Target","state","initialLeft","initialTop","setState","connectDropTarget","props","Component","Context","HTML5Backend","drop","monitor","component","Math","round","item","getItem","delta","getDifferenceFromInitialOffset","x","y","move","connect","dropTarget"],"mappings":"0kCAIe,SAACA,CAAD,CAAOC,CAAP,CAAWC,CAAX,CAAyC,IAAtBC,EAAsB,wDAAP,EAAO,CAChDC,EAAQ,CACZC,MAAO,MADK,CAEZC,OAAQC,SAASC,IAAT,CAAcC,YAAd,EAA8BF,SAASG,eAAT,CAAyBD,YAFnD,CAGZE,SAAU,UAHE,CAIZC,KAAM,CAJM,CAKZC,IAAK,CALO,CADwC,CA4BhDC,CA5BgD,aA6BpD,YAAe,kGAEb,GAAKC,KAAL,CAAa,CACXH,KAAMT,EAAaa,WAAb,EAA4B,CADvB,CAEXH,IAAKV,EAAac,UAAb,EAA2B,CAFrB,CAFA,EAMd,CAnCmD,uEAqC9CL,CArC8C,CAqCxCC,CArCwC,CAqCnC,CACf,KAAKK,QAAL,CAAc,CAAEN,MAAF,CAAQC,KAAR,CAAd,CACD,CAvCmD,kCAyC1C,IACAM,EADA,CACsB,KAAKC,KAD3B,CACAD,iBADA,GAEc,KAAKJ,KAFnB,CAEAH,CAFA,GAEAA,IAFA,CAEMC,CAFN,GAEMA,GAFN,CAGR,MACEM,IACAA,EACE,+BAAK,GAAOnB,CAAP,KAAL,CAAsB,MAAOI,CAA7B,EACG,wBAAC,CAAD,EAAQ,GAAIH,CAAZ,CAAgB,KAAMW,CAAtB,CAA4B,IAAKC,CAAjC,EADH,CADF,CAMH,CApDmD,OA4BjCQ,WA5BiC,EAuDhDC,EAAU,sBAAgBC,SAAhB,EACd,iBAAWvB,CAAX,CA/CW,CACXwB,IADW,YACLJ,CADK,CACEK,CADF,CACWC,CADX,CACsB,OAMlBC,KAAKC,KANa,CAC/B,GAAKF,CAAL,KAGMG,GAAOJ,EAAQK,OAAR,EAHb,CAIMC,EAAQN,EAAQO,8BAAR,EAJd,CAKMpB,EAAO,EAAWiB,EAAKjB,IAAL,CAAYmB,EAAME,CAA7B,CALb,CAMMpB,EAAM,EAAWgB,EAAKhB,GAAL,CAAWkB,EAAMG,CAA5B,CANZ,CAOAR,EAAUS,IAAV,CAAevB,CAAf,CAAqBC,CAArB,CAPA,CAQD,CAVU,CA+CX,CAlCF,SAAkBuB,CAAlB,CAAoC,CAClC,MAAO,CACLjB,kBAAmBiB,EAAQC,UAAR,EADd,CAGR,CA8BC,EAAgCvB,CAAhC,CADc,CAvDsC,CA2DtD,MAAOQ,EACR,C","file":"target.js","sourcesContent":["import React, { Component } from 'react'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport { DragDropContext, DropTarget } from 'react-dnd'\n\nexport default (type, el, Source, initialProps = {}) => {\n  const style = {\n    width: '100%',\n    height: document.body.clientHeight || document.documentElement.clientHeight,\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }\n\n  const spec = {\n    drop (props, monitor, component) {\n      if (!component) {\n        return\n      }\n      const item = monitor.getItem()\n      const delta = monitor.getDifferenceFromInitialOffset()\n      const left = Math.round(item.left + delta.x)\n      const top = Math.round(item.top + delta.y)\n      component.move(left, top)\n    }\n  }\n\n  function collect (connect, monitor) {\n    return {\n      connectDropTarget: connect.dropTarget()\n    }\n  }\n\n  class Target extends Component {\n    constructor () {\n      super()\n      this.state = {\n        left: initialProps.initialLeft || 0,\n        top: initialProps.initialTop || 0\n      }\n    }\n\n    move (left, top) {\n      this.setState({ left, top })\n    }\n\n    render () {\n      const { connectDropTarget } = this.props\n      const { left, top } = this.state\n      return (\n        connectDropTarget &&\n        connectDropTarget(\n          <div id={`${type}-t`} style={style}>\n            {<Source el={el} left={left} top={top} />}\n          </div>\n        )\n      )\n    }\n  }\n\n  const Context = DragDropContext(HTML5Backend)(\n    DropTarget(type, spec, collect)(Target)\n  )\n\n  return Context\n}\n"]}